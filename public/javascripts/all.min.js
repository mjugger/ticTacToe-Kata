var ngMaterialEls=angular.module("material-elements",["ngMaterial"]);ngMaterialEls.factory("mElements",[function(){var n={};return n.isGameOver=!1,n.resetBtnVisibility=function(){return n.isGameOver?"reset-btn-show":void 0},n}]);var t3Kata=angular.module("t3Kata",["material-elements"]);t3Kata.service("theGameBoard",function(){var n={};return n.board=new Array(9),n.clearBoard=function(){n.board=new Array(9)},n}),t3Kata.controller("t3Board",["$scope","mElements","theGameBoard",function(n,r,a){function t(){var r=c(4,n.cpu);e(r[1],n.cpu),o()>0&&u()}function e(r,a){return void 0===n.t3Board.board[r]&&0===o()?(n.t3Board.board[r]=a,!0):!1}function i(){for(var r=[],a=0,t=n.t3Board.board.length;t>a;a++)void 0===n.t3Board.board[a]&&r.push(a);return r}function o(){return f(n.cpu)?1:f(n.human)?2:0===i().length?3:0}function u(){r.isGameOver=!0}function c(r,a){var t,e=i(),u=a===n.cpu?-100:100,s=-1;if(o()>0||0===r)u=d();else for(var f=0,l=e.length;l>f;f++)n.t3Board.board[e[f]]=a,a===n.cpu?(t=c(r-1,n.human)[0],t>u&&(u=t,s=e[f])):(t=c(r-1,n.cpu)[0],u>t&&(u=t,s=e[f])),n.t3Board.board[e[f]]=void 0;return[u,s]}function d(){var r=0;for(var a in n.winningMoves)r+=s(n.winningMoves[a]);return r}function s(r){var a=0;if(n.t3Board.board[r[0]]===n.cpu?a=1:n.t3Board.board[r[0]]===n.human&&(a=-1),n.t3Board.board[r[1]]===n.cpu)if(1===a)a=10;else{if(-1===a)return 0;a=1}else if(n.t3Board.board[r[1]]===n.human)if(-1===a)a=-10;else{if(1===a)return 0;a=-1}if(n.t3Board.board[r[2]]===n.cpu)if(a>0)a*=10;else{if(0>a)return 0;a=1}else if(n.t3Board.board[r[2]]===n.human)if(0>a)a*=10;else{if(a>1)return 0;a=-1}return a}function f(r){var a;for(var t in n.winningMoves){a=0;for(var e=0,i=n.winningMoves[t].length;i>e;e++)if(n.t3Board.board[n.winningMoves[t][e]]===r&&(a+=1),3===a)return!0}return!1}n.human="O",n.cpu="X",n.winningMoves={win1:[0,1,2],win2:[3,4,5],win3:[6,7,8],win4:[0,3,6],win5:[1,4,7],win6:[2,5,8],win7:[0,4,8],win8:[2,4,6]},n.t3Board=a,n.activeClass=function(n){return n===this.cpu?"cpu-active":n===this.human?"human-active":"btn-blank"},n.humanMove=function(n){var r=e(n,this.human);r&&t(),o()>0&&u()}}]),t3Kata.controller("btn",["$scope","mElements","theGameBoard",function(n,r,a){n.restartGame=r.resetBtnVisibility,n.playAgain=function(){r.isGameOver=!1,a.clearBoard()}}]);