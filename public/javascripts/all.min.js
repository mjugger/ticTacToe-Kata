var t3Kata=angular.module("t3Kata",["ui.bootstrap"]);t3Kata.controller("t3Board",["$scope",function(n){function o(){var o=i(4,n.cpu);r(o[1],n.cpu),console.log("nextMove: ",o)}function r(o,r){e()||void 0!==n.t3Board[o]?a():n.t3Board[o]=r,console.log("$scope.t3Board:",n.t3Board," openMoves ",t())}function t(){var o=[];if(f(n.cpu)||f(n.human))return o;for(var r=0,t=n.t3Board.length;t>r;r++)void 0===n.t3Board[r]&&o.push(r);return o}function e(){var n=t();return console.log(n),0===n.length?!0:!1}function a(){return f(n.cpu)?1:f(n.human)?-1:0}function i(o,r){var e,a=t(),c=r===n.cpu?-100:100,f=-1;if(0===a.length||0===o)c=u();else for(var l=0,v=a.length;v>l;l++)console.log("move ",a[l]),n.t3Board[a[l]]=r,r===n.cpu?(e=i(o-1,n.human)[0],e>c&&(c=e,f=a[l])):(e=i(o-1,n.cpu)[0],c>e&&(c=e,f=a[l])),n.t3Board[a[l]]=void 0;return[c,f]}function u(){var o=0;for(var r in n.winningMoves)o+=c(n.winningMoves[r]);return o}function c(o){var r=0;if(n.t3Board[o[0]]===n.cpu?r=1:n.t3Board[o[0]]===n.human&&(r=-1),n.t3Board[o[1]]===n.cpu)if(1===r)r=10;else{if(-1===r)return 0;r=1}else if(n.t3Board[o[1]]===n.human)if(-1===r)r=-10;else{if(1===r)return 0;r=-1}if(n.t3Board[o[2]]===n.cpu)if(r>0)r*=10;else{if(0>r)return 0;r=1}else if(n.t3Board[o[2]]===n.human)if(0>r)r*=10;else{if(r>1)return 0;r=-1}return r}function f(o){var r;for(var t in n.winningMoves){r=0;for(var e=0,a=n.winningMoves[t].length;a>e;e++)if(n.t3Board[n.winningMoves[t][e]]===o&&(r+=1),3===r)return!0}return!1}n.human="O",n.cpu="X",n.t3Board=new Array(9),n.winningMoves={win1:[0,1,2],win2:[3,4,5],win3:[6,7,8],win4:[0,3,6],win5:[1,4,7],win6:[2,5,8],win7:[0,4,8],win8:[2,4,6]},n.humanMove=function(n){r(n,this.human),o()}}]),t3Kata.controller("modal",["$scope","$modal",function(n,o){var r={};return r}]);