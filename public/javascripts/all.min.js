var t3Kata=angular.module("t3Kata",[]);t3Kata.controller("t3Board",["$scope",function(n){function r(){var r=t(2,n.cpu);void 0===n.t3Board[r[1]]&&o(r[1],n.cpu),console.log("evaluateBoard: ",a())}function o(r,o){n.t3Board[r]=o}function i(){var r=[];if(u(n.cpu)||u(n.human))return r;for(var o=0,i=n.t3Board.length;i>o;o++)void 0===n.t3Board[o]&&r.push(o);return r}function t(r,o){var e,u=i(),f=o===n.cpu?-100:100,v=-1;if(0===u.length||0===r)f=a();else for(var c=0,d=u.length;d>c;c++)console.log("move ",u[c]),n.t3Board[u[c]]=o,o===n.cpu?(e=t(r-1,n.human)[0],e>f&&(f=e,v=u[c])):(e=t(r-1,n.cpu)[0],f>e&&(f=e,v=u[c])),n.t3Board[u[c]]=void 0;return[f,v]}function a(){var r=0;for(var o in n.winningMoves)r+=e(n.winningMoves[o]);return r}function e(r){var o=0;if(n.t3Board[r[0]]===n.cpu?o=1:n.t3Board[r[0]]===n.human&&(o=-1),n.t3Board[r[1]]===n.cpu)if(1===o)o=10;else{if(-1===o)return 0;o=1}else if(n.t3Board[r[1]]===n.human)if(-1===o)o=-10;else{if(1===o)return 0;o=-1}if(n.t3Board[r[2]]===n.cpu)if(o>0)o*=10;else{if(0>o)return 0;o=1}else if(n.t3Board[r[2]]===n.human)if(0>o)o*=10;else{if(o>1)return 0;o=-1}return o}function u(r){var o;for(var i in n.winningMoves){o=0;for(var t=0,a=n.winningMoves[i].length;a>t;t++)if(n.t3Board[n.winningMoves[i][t]]===r&&(o+=1),3===o)return!0}return!1}n.human="O",n.cpu="X",n.t3Board=new Array(8),n.winningMoves={win1:[0,1,2],win2:[3,4,5],win3:[6,7,8],win4:[0,3,6],win5:[1,4,7],win6:[2,5,8],win7:[0,4,8],win8:[2,4,6]},n.humanMove=function(n){o(n,this.human),r()}}]);